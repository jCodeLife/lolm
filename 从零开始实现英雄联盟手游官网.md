# 从零开始实现英雄联盟手游官网

## 前言

本项目采用HTML+CSS+JavaScript技术，从零开始实现英雄联盟手游官网，未使用任何库或框架。但是会涉及CSS3和H5部分技术，js书写格式均采用ES6语法，适合对js有一定了解的同学阅读，可以更好的巩固原生技术

### 核心技术

- 采用LESS预编译器，以简轻CSS代码的书写量
- 使用rem布局，让页面中的各种尺寸自适应缩放
- 利用flex给局部模块布局

### 项目亮点

- 巧用rem
- 原生实现上下滑动效果技巧

### 准备

1. 编辑器

   可根据个人爱好选择

   个人推荐vscode，原因是免费、插件多、小而块；可以去官网下载https://code.visualstudio.com/

2. 在`vscode`中安装`compile hero`，将我们书写的LESS文件自动编译成CSS文件

安装后配置`compile hero`选项：

- 取消勾选`JavaScript-output-toggle`，避免对`js`造成编译
- 设置`LESS-output-directory`为`./`，将`LESS`编译的结果放到当前目录
- 取消勾选`Disable-compile-files-on-did-save-code`，这样就可以在保存代码时自动完成编译

3. 项目结构搭建

   采用传统(古老)形式搭建目录结构，结构行为样式分离

   ![](C:\Users\Administrator\Desktop\lolm\md-img\list.png)

   其中assets用于存放静态资源，css用于存放.css和.less文件，js用于存放.js文件，index.html是入口文件

   



## 一、功能展示和分析

### 1. 页面展示

|                         第1页                         |                         第2页                         |                         第3页                         |
| :---------------------------------------------------: | :---------------------------------------------------: | :---------------------------------------------------: |
| ![](C:\Users\Administrator\Desktop\lolm\md-img\1.png) | ![](C:\Users\Administrator\Desktop\lolm\md-img\2.png) | ![](C:\Users\Administrator\Desktop\lolm\md-img\3.png) |

官网地址：https://lolm.qq.com/m/index.html

### 2. 核心功能模块

## 二、开发过程

### 1. rem屏幕自适应

我们需要找到一种单位`a`，它能和设计稿的尺寸对应起来，比如：`1a = 设计稿100px`

`css3`中的`rem`单位，表示相对于网页根元素的字体大小。

如果能保证根元素的字体大小始终等于设计稿中的100px，则`rem`就是要找的单位`a`

一个网页，设计稿的宽度是固定的，但运行的设备宽度是不固定的，如何才能保证根元素的字体大小跟随设备视口宽度变化？

| 设计稿宽度 | 设备视口宽度 | 根元素字体大小 |
| ---------- | ------------ | -------------- |
| 700        | 700          | 100px          |
| 700        | 350          | 50px           |
| 800        | 600          | 75px           |
| 750        | 375          | 50px           |

结论公式：根元素字体大小 = 设备视口宽度 / 设计稿宽度 * 100

因此，根据不同设备视口宽度自适应，我们要在index.html中设置根元素字体大小：

```javascript
(function (win, doc) {
  if (!win.addEventListener) return;
  function setFont() {
    let html = document.documentElement;
    let k = 750;
    html.style.fontSize = html.clientWidth / k * 100 + "px";
  }
  setFont();
  doc.addEventListener('DOMContentLoaded', setFont, false);
  win.addEventListener('resize', setFont, false);
  win.addEventListener('load', setFont, false);
})(window, document);
```

### 2. 顶部菜单区域

设置顶部菜单结构

```html
<div class="menu_container">
  <div class="menu_title">
    <a href="" class="menu_logo">
      <img src="./assets/logo.png" alt="" />
    </a>
    <!-- 开关 -->
    <div class="menu_switch"></div>
    <div class="menu_attend">敬请关注</div>
  </div>
  <ul class="menu_nav">
    <li>敬请关注</li>
    <li>新闻资讯</li>
    <li>游戏特色</li>
    <li><a href="">问题反馈</a></li>
    <li>FAQ</li>
  </ul>
</div>
```

设置菜单样式

```less
.menu_container {
  color: #fff;
  position: relative;
  z-index: 20;

  // 顶部标题
  .menu_title {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    background: #202629;
    height: 0.98rem;

    .menu_logo {
      float: left;
      margin: 0.13rem 0 0 0.28rem;

      img {
        width: 1.59rem;
        height: 0.5rem;
      }
    }

    .menu_switch {
      float: right;
      width: 0.44rem;
      height: 0.02rem;
      margin-right: 0.2rem;
      margin-top: .5rem;
      background: #fff;
      transition: .5s;

      &::before {
        content: "";
        display: block;
        height: 0.02rem;
        background: #fff;
        margin-top: -.08rem;
        transition: .5s;
      }

      &::after {
        content: "";
        display: block;
        height: 0.02rem;
        background: #fff;
        margin-top: .14rem;
        transition: .5s;
      }

      &.menu_switch--expand {
        background: transparent;

        &::before {
          transform: rotateZ(45deg);
          margin-top: 0;
          background: #BC3129;
        }

        &::after {
          transform: rotateZ(-45deg);
          margin-top: -0.016rem;
          background: #BC3129;
        }
      }
    }

    .menu_attend {
      float: right;
      width: 1.4rem;
      height: 0.51rem;
      line-height: 0.51rem;
      text-align: center;
      font-size: 0.24rem;
      border: 3px #ffe537 solid;
      margin-top: .15rem;
      margin-right: .5rem;
    }
  }

  // 导航菜单
  .menu_nav {
    font-size: .3rem;
    background: #1e1e1e;
    position: fixed;
    top: 0.98rem;
    right: 0;
    width: 0;
    text-align: center;
    opacity: 0;
    height: 0;
    transition: .5s;

    li {
      border-top: 1px solid #2c2c2c;
      height: 1.36rem;
      line-height: 1.36rem;
      overflow: hidden;
    }

    &.menu_nav--visible {
      opacity: 1;
      width: 100%;
      height: 100%;
    }
  }
}
```

